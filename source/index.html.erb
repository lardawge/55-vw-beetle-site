
<header class="p-3 text-bg-dark mb-4">
  <div class="container">
    <div class="text-center">
      <h1>1955 Volkswagen Beetle</h1>
      <h3 class="fs-6">Metalwork Complete • Restored Chassis • Paint-stage Project</h3>
    </div>
  </div>
</header>

<div class="container intro text-center">
  <div class="row">
    <div class="col text-start">
      <p class="mb-0">
        <b>VIN:</b>1-0789203 <br>
        <b>Asking Price:</b> $25,000
        </p>
    </div>
  </div>
  <hr>
  <div class="row">
    <div class="col-md">
      <div class="row">
        <div class=" col-lg-6 col-md-12">
          <a href="<%= image_path('IMG_0863.jpeg') %>" data-toggle="lightbox-c" data-gallery="example-gallery">
            <img src="<%= image_path('IMG_0863.jpeg') %>" class="img-fluid">
          </a>
        </div>
        <div class="col-lg-6 col-md-12">
          <a href="<%= image_path('IMG_0864.jpeg') %>" data-toggle="lightbox-c" data-gallery="example-gallery">
            <img src="<%= image_path('IMG_0864.jpeg') %>" class="img-fluid">
          </a>
        </div>
        <div class="col-lg-6 col-md-12">
          <a href="<%= image_path('IMG_0865.jpeg') %>" data-toggle="lightbox-c" data-gallery="example-gallery">
            <img src="<%= image_path('IMG_0865.jpeg') %>" class="img-fluid">
          </a>
        </div>
        <div class="col-lg-6 col-md-12">
          <a href="<%= image_path('IMG_0866.jpeg') %>" data-toggle="lightbox-c" data-gallery="example-gallery">
            <img src="<%= image_path('IMG_0866.jpeg') %>" class="img-fluid">
          </a>
        </div>
      </div>
    </div>
    <div class="col text-start d-flex flex-column">
      <h3 class="mb-4">Overview</h3>
      <p>
        This 1955 Oval Window Beetle is a California car with matching body and pan (and matching original front beam), verified by an official Volkswagen Birth Certificate. Delivered through Competition Motors in Hollywood and later stored in Valencia, it’s now at an ideal stage for a buyer who wants to control final bodywork, paint, and assembly without starting from an unknown teardown.
      </p>

      <p>
        The chassis has been fully restored. The body has been stripped, repaired, epoxy-primed, and brought through initial bodywork. Panels are largely original, with only one German Blech-Manufaktur rear fender replaced. A large inventory of original and restored parts is included.
      </p>

      <p>
        Optional: A period-correct Okrasa 36hp engine built by Joe Ruiz is available; package pricing available with the car.
      </p>

      <p class="mt-auto text-muted fst-italic">These images show the car as I acquired it, before the start of the restoration.</p>
    </div>
  </div>
  <hr>
    <%= partial "gallery", locals: { gallery_path: 'gallery' } %>
  <hr>
  <div class="row">
    <h3 class="mb-4">VW Birth Certificate</h3>
    <div class="col-md text-start">
      <ul>
        <li>Here you can see the birthdate of the car is 1/7/55 and exported on 1/10/55.</li>
        <li>It does not have a color specified, however there is enough evidence the original paint was L275 Light Beige.</li>
        <li>Clean California title and registration is currently non-op</li>
        <li>Delivered through Competition Motors in Hollywood California</li>
        <li>M018 denotes that it was delivered with egg taillights</li>
      </ul>
    </div>
    <div class="col">
      <div class="row">
        <div class="col-lg-6 col-md-12">
          <a href="<%= image_path('IMG_1305.jpeg') %>" data-toggle="lightbox-c" data-gallery="example-gallery">
            <img src="<%= image_path('IMG_1305.jpeg') %>" class="img-fluid">
          </a>
        </div>
        <div class="col-lg-6 col-md-12">
          <a href="<%= image_path('IMG_1306.jpeg') %>" data-toggle="lightbox-c" data-gallery="example-gallery">
            <img src="<%= image_path('IMG_1306.jpeg') %>" class="img-fluid">
          </a>
        </div>
      </div>
    </div>
  </div>
  <hr>
  <div class="row">
    <div class="col-10 offset-1 col-lg-8 offset-lg-2">
      <h3 class="mb-4">Body & Metal Condition</h3>
      <ul class="text-start">
        <li>Car was media blasted to bare metal and sealed with SPI Epoxy</li>
        <li>Rust repair and metal finishing completed (extensive pictures available)</li>
        <li>Evercoat Rage Ultra, along with UPOL Dolphin Glaze, used for shaping, then sealed again with epoxy</li>
        <li>Original hood, decklid, front fenders, right rear fender</li>
        <li>Rear apron replaced using high-quality Wolfpart reproduction</li>
        <li>Driver-side rear fender replaced with high-quality German reproduction</li>
        <li>Rough bodywork completed; ready for final block sanding or panel-to-panel refinement</li>
        <li>Steering column, shifter, e-brake handle, semaphore switch housing painted correct single stage Light Beige (L75)</li>
      </ul>
    </div>
  </div>
  <hr>
  <div class="row">
    <h3>Chassis & Mechanical Restoration</h3>

    <div class="col-10 offset-1 col-lg-8 offset-lg-2 text-start">
      <h4 class="mt-3">Pan <span class="fs-6"><i>(Restoration performed by Washburn's Metal)</i></span></h4>
      <ul>
        <li>Matching original pan</li>
        <li>Media blasted and refinished with powder coat</li>
        <li>New correct KlassicFab pan halves</li>
        <li>All hardware cleaned, plated, and reinstalled</li>
      </ul>

      <h4>Front End <span class="fs-6"><i>(Restoration performed by George Schmidt, The Butcher Shop)</i></span></h4>
      <ul>
        <li>Matching numbers original front beam</li>
        <li>Beam disassembled, powder coated, and fully rebuilt</li>
        <li>New bushings with correct early components</li>
        <li>All hardware cleaned, plated, and reinstalled</li>
        <li>Steering box fully torn down, powder coated, resealed, and reassembled</li>
      </ul>

      <h4>Brakes</i></span></h4>
      <ul>
        <li>All soft and hard lines replaced</li>
        <li>Drums turned; original German units retained</li>
        <li>ATE wheel cylinders installed</li>
        <li>New shocks</li>
      </ul>

      <h4>Transaxle <span class="fs-6"><i>(Rebuilt by Wright Gearbox)</i></span></h4>
      <ul>
        <li>Splitcase transaxle with non-syncro 1st gear</li>
      </ul>
    </div>
  </div>
  <hr>
  <div class="row">
    <div class="col" id="inventory">
      <h4 class="mb-4">Complete Parts Inventory — included with the car</h4>
      <p class="text-start">
        <a href="https://docs.google.com/spreadsheets/d/1khXfphFv0TviubRPDe_W8o2wJPWmuhnJ3Mq1XAOFQfI/edit?usp=sharing" onclick="sa_event('inventory_opened_external')" target="_blank">
          → Open full parts inventory (Google)
        </a>
      </p>

      <iframe width="100%" height="500px" src="https://docs.google.com/spreadsheets/d/e/2PACX-1vQIwWjliMeRpyQgKq5BBPWsIj5KaBa817RgnqLN4k0Aj2rbVXv4vgO0ZAax40C3Pf1tE_97Y4Vy-kjI/pubhtml?widget=true&amp;headers=false"></iframe>
      <p class="text-start">
        As you can see, all the hard to find parts are included with the car. <br>
        I have completed restoration on a handful of parts including the original hardware and vent wings. <br>
        The hardware is bagged and tagged for each part it belongs to.
      </p>
    </div>
  </div>
  <hr>
  <div class="row">
    <div class="col-10 offset-1 col-lg-8 offset-lg-2">
      <h3 class="mb-4">Optional Engine</h3>
      <ul class="text-start">
        <li>Wolfsburg West Okrasa Kit</li>
        <li>69.5mm Counterweighted Stroker Crank</li>
        <li>Performance Camshaft</li>
        <li>Heater boxes restored and ceramic coated</li>
        <li>Period correct parts and engine tins</li>
        <li>WW Abarth Exhaust</li>
      </ul>

      <p>A period-correct, high-quality 1954 Okrasa 36hp engine built by Joe Ruiz is available separately; discounted package price if purchased with the car.</p>
    </div>
  </div>
  <hr>
  <div class="row">
    <div class="col-10 offset-1 col-lg-8 offset-lg-2">
      <h3 class="mb-4">Why this car stands out</h3>
      <ul class="text-start">
        <li>Started as a solid, complete, largely original California car</li>
        <li>Not a rescue or rust-discovery project</li>
        <li>The body retains its original Volkswagen sheet metal, with only localized repairs</li>
        <li>Labor-intensive work (metal + chassis) already completed</li>
        <li>All work documented; no unknowns hidden under paint</li>
        <li>Finished examples often trade in a higher range depending on correctness and finish level.</li>
      </ul>
    </div>
  </div>
  <hr>
  <div class="row">
    <div class="col-10 offset-1 col-lg-8 offset-lg-2">
      <h3 class="mb-4">Asking Price</h3>

      <p class="fs-4"><b>$25,000</b></p>
      <p>Optional: 1954 Okrasa 36hp engine by Joe Ruiz available for separate purchase (price to be negotiated if interested).</p>
    </div>
  </div>
  <hr>
  <div class="row">
    <div class="col-10 offset-1 col-lg-8 offset-lg-2 text-start">
      <h3 class="mb-4 text-center">Contact</h3>
      <p class="text-muted">Serious inquiries only, please.</p>

      <div class="card rounded mb-5">
        <div class="card-body contact-form-wrapper position-relative">
            <div
              id="successOverlay"
              class="position-absolute top-0 start-0 w-100 h-100
                    d-flex flex-column align-items-center justify-content-center
                    bg-dark bg-opacity-75 text-white text-center px-3 rounded-2 d-none"
              style="z-index: 10;"
            >
            <div class="p-4 rounded-3 bg-dark bg-opacity-75">
              <h3 class="mb-3">Thank you for your inquiry!</h3>
              <p class="mb-0">
                I’ve received your message about the 1955 VW Beetle and will respond as soon as possible.
              </p>
            </div>
          </div>

          <div id="contactError" class="alert alert-danger d-none" role="alert">
            Something went wrong sending your message. Please try again, or email me directly.
          </div>

          <form id="contactForm" action="https://formspree.io/f/xpwvlybq" method="POST" class="needs-validation" novalidate>
            <input type="hidden" name="_subject" value="Inquiry from 55vwbeetle.com">
            <input type="hidden" name="_language" value="en">

            <div class="mb-2">
              <label class="form-label">Name:</label>
              <input class="form-control" type="text" name="name" required />
              <div class="invalid-feedback">Please enter your name.</div>
            </div>

            <div class="mb-2">
              <label class="form-label">Email:</label>
              <input class="form-control" type="email" name="email" required />
              <div class="invalid-feedback">Please enter a valid email address.</div>
            </div>

            <div class="mb-2">
              <label for="phone" class="form-label">Phone (optional)</label>
              <input type="tel" id="phone" name="phone" class="form-control" />
            </div>

            <div class="mb-4">
              <label class="form-label">Message:</label>
              <textarea class="form-control" name="message" rows="5" required></textarea>
              <div class="invalid-feedback">Please include a message.</div>
            </div>

            <div style="display:none;">
              <input type="text" name="_gotcha" tabindex="-1" autocomplete="off">
            </div>

            <!-- Cloudflare Turnstile widget -->
            <div
              class="cf-turnstile mb-3"
              data-sitekey="<%= config[:turnstile_site_key] %>"
              data-theme="light">
            </div>

            <button id="contactSubmitBtn" class="btn btn-primary">Send Inquiry</button>
          </form>
        </div>
      </div>

    </div>
  </div>
</div>

<footer class="p-3 text-bg-dark">
  <div class="container">
    <div class="text-center">
      <h1>1955 Volkswagen Beetle - For Sale</h1>
    </div>
  </div>
</footer>


<!-- Turnstile script -->
<script
  src="https://challenges.cloudflare.com/turnstile/v0/api.js"
  async
  defer>
</script>

<script>
document.addEventListener('DOMContentLoaded', function () {
  const form = document.getElementById('contactForm');
  if (!form) return;

  let interacted = false;

  form.addEventListener('focusin', function () {
    if (!interacted) {
      sa_event('contact_form_interacted');
      interacted = true;
    }
  });
});
</script>

<!-- Bootstrap client-side validation script -->
<script>
  (function () {
    'use strict';

    const form = document.getElementById('contactForm');
    const submitBtn = document.getElementById('contactSubmitBtn');
    const errorAlert = document.getElementById('contactError');
    const successOverlay = document.getElementById('successOverlay');

    if (!form) return;

    form.addEventListener('submit', function (event) {
      // Let browser/Bootstrap validation run first
      if (!form.checkValidity()) {
        event.preventDefault();
        event.stopPropagation();
        form.classList.add('was-validated');
        return;
      }

      // Prevent default form POST (we’ll use fetch)
      event.preventDefault();
      event.stopPropagation();
      form.classList.add('was-validated');

      // Hide any previous error
      if (errorAlert) {
        errorAlert.classList.add('d-none');
      }

      // Disable submit button + show "Sending..."
      if (submitBtn) {
        submitBtn.disabled = true;
        const originalText = submitBtn.getAttribute('data-original-text') || 'Send Inquiry';
        submitBtn.setAttribute('data-original-text', originalText);
        submitBtn.textContent = 'Sending...';
      }

      // Build FormData (includes Turnstile's hidden field)
      const formData = new FormData(form);

      // Send via fetch to Formspree
      fetch(form.action, {
        method: 'POST',
        headers: {
          'Accept': 'application/json'
        },
        body: formData
      })
        .then(function (response) {
          if (!response.ok) {
            throw new Error('Network response was not ok');
          }
          sa_event('contact_form_submitted');
          return response.json();
        })
        .then(function (data) {
          // On success: show thank-you overlay and optionally reset form
          if (successOverlay) {
            successOverlay.classList.remove('d-none');
          }
          form.reset();
          form.classList.remove('was-validated');

          // Re-enable button & restore label (in case user closes overlay and sends again)
          if (submitBtn) {
            submitBtn.disabled = false;
            const originalText = submitBtn.getAttribute('data-original-text') || 'Send Inquiry';
            submitBtn.textContent = originalText;
          }

          // Reset Turnstile, if available
          if (window.turnstile && typeof window.turnstile.reset === 'function') {
            window.turnstile.reset();
          }
        })
        .catch(function (error) {
          console.error('Error submitting form:', error);
          // Show error alert
          if (errorAlert) {
            errorAlert.classList.remove('d-none');
          }
          // Re-enable button
          if (submitBtn) {
            submitBtn.disabled = false;
            const originalText = submitBtn.getAttribute('data-original-text') || 'Send Inquiry';
            submitBtn.textContent = originalText;
          }
        });
    }, false);
  })();
</script>

<script>
document.addEventListener('DOMContentLoaded', function () {
  const inventorySection = document.getElementById('inventory');

  if (!inventorySection) return;

  const observer = new IntersectionObserver(entries => {
    if (entries[0].isIntersecting) {
      sa_event('inventory_section_viewed');
      observer.disconnect();
    }
  }, { threshold: 0.5 });

  observer.observe(inventorySection);
});
</script>

<!-- 100% privacy-first analytics -->
<script async src="https://scripts.simpleanalyticscdn.com/latest.js"></script>
